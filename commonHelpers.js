import{a as b,S as E,i}from"./assets/vendor-6e0bf343.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&d(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();const T="43804338-e495c959d27dd2a0f1faf63f4",v="https://pixabay.com/api/";async function m(o,t){try{return(await b.get(v,{params:{key:T,q:o,image_type:"photo",orientation:"horizontal",safesearch:"true",page:t,per_page:15}})).data}catch(s){throw console.error("Error fetching data, please try again:",s),s}}function f(o){const t=document.querySelector(".gallery"),s=o.map(({webformatURL:d,largeImageURL:e,tags:r,likes:a,views:g,comments:w,downloads:L})=>`<li class="gallery-item">
            <a href = "${e}">
        <img src="${d}" alt="${r}"/>
    <ul class="gallery-info">
        <li>Likes<p>${a}</p></li>
        <li>Views<p>${g}</p></li>
        <li>Comments<p>${w}</p></li>
        <li>Downloads<p>${L}</p></li>
    </ul>
    </a>
    </li>`).join("");t.insertAdjacentHTML("beforeend",s)}const B={captionsData:"alt",captionDelay:250};let h=new E(".gallery a",B);const S=document.querySelector(".search-form"),u=document.querySelector(".search-images"),c=document.querySelector(".loader"),n=document.querySelector(".load-more-button"),q=document.querySelector(".gallery"),I=document.getElementById("scrollToTopBtn");let l=1,y="",p=0;document.addEventListener("DOMContentLoaded",()=>{n.style.display="none",I.style.display="none"});S.addEventListener("submit",async function(o){if(o.preventDefault(),y=u.value.trim(),c.style.display="block",n.style.display="none",q.innerHTML="",l=1,y===""){i.error({message:"Please enter a search term!",position:"topRight"}),c.style.display="none";return}try{const t=await m(y,l);if(t.hits.length===0){n.style.display="none",i.error({title:"Error!",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"});return}f(t.hits),h.refresh(),n.style.display="block",p=Math.ceil(t.totalHits/15),l===p&&(n.style.display="none",i.info({message:"You've reached the end of search results.",position:"topRight"}))}catch(t){console.error("Error fetching images:",t),i.error({title:"Error!",message:"An error occurred while fetching images. Please try again later.",position:"topRight"}),n.style.display="none"}finally{c.style.display="none",u.value=""}});n.addEventListener("click",async()=>{try{c.style.display="block",l+=1;const o=await m(y,l);f(o.hits),h.refresh();const s=document.querySelector(".gallery-item").getBoundingClientRect().height;if(window.scrollBy({top:s*2,behavior:"smooth"}),l>=p){n.style.display="none",i.info({message:"You've reached the end of search results.",position:"topRight"});return}}catch(o){console.log(o),n.style.display="none"}finally{c.style.display="none"}});window.addEventListener("scroll",()=>{const o=document.getElementById("scrollToTopBtn");window.scrollY>300?o.style.display="block":o.style.display="none"});document.getElementById("scrollToTopBtn").addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
//# sourceMappingURL=commonHelpers.js.map
