import{a as L,S as v,i as l}from"./assets/vendor-06b1bbdf.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function e(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(t){if(t.ep)return;t.ep=!0;const s=e(t);fetch(t.href,s)}})();const E="43804338-e495c959d27dd2a0f1faf63f4",S="https://pixabay.com/api/";async function h(o,r){try{return(await L.get(S,{params:{key:E,q:o,image_type:"photo",orientation:"horizontal",safesearch:"true",page:r,per_page:15}})).data}catch(e){throw console.error("Error fetching data, please try again:",e),e}}const T={captionsData:"alt",captionDelay:250};let I=new v(".gallery a",T);function y(o){const r=document.querySelector(".gallery");r.innerHTML="";const e=o.map(({webformatURL:a,largeImageURL:t,tags:s,likes:i,views:g,comments:w,downloads:b})=>`<li class="gallery-item">
            <a href = "${t}">
        <img src="${a}" alt="${s}"/>
    <ul class="gallery-info">
        <li>Likes<p>${i}</p></li>
        <li>Views<p>${g}</p></li>
        <li>Comments<p>${w}</p></li>
        <li>Downloads<p>${b}</p></li>
    </ul>
    </a>
    </li>`).join("");r.insertAdjacentHTML("beforeend",e),I.refresh()}const P=document.querySelector(".search-form"),u=document.querySelector(".search-images"),d=document.querySelector(".loader"),n=document.querySelector(".load-more-button");let p=1,f="",c=[],m=0;document.addEventListener("DOMContentLoaded",()=>{n.style.display="none"});P.addEventListener("submit",async function(o){o.preventDefault();const r=u.value.trim();if(d.style.display="block",p=1,r===""){l.error({message:"Please enter a search term!",position:"topRight"});return}try{const e=await h(r,p);e.hits.length===0?(y([]),n.style.display="none",l.error({title:"Error!",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"})):(y(e.hits),n.style.display="block",f=r,c=e.hits,m=Math.ceil(e.totalHits/e.hits.length),e.totalHits<15?n.style.display="none":n.style.display="block")}catch(e){console.error("Error fetching images:",e),l.error({title:"Error!",message:"An error occurred while fetching images. Please try again later.",position:"topRight"})}finally{d.style.display="none"}u.value=""});n.addEventListener("click",async()=>{if(p>=m){n.style.display="none",l.info({message:"You've reached the end of search results.",position:"topRight"});return}try{d.style.display="block";const o=await h(f,++p);if(o.hits.length===0)n.style.display="none",l.info({message:"You've reached the end of search results.",position:"topRight"});else{c=[...c,...o.hits],y(c);const e=document.querySelector(".gallery a").getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})}}catch(o){console.log(o)}finally{d.style.display="none"}});window.addEventListener("scroll",()=>{const o=document.getElementById("scrollToTopBtn");window.scrollY>300?o.style.display="block":o.style.display="none"});document.getElementById("scrollToTopBtn").addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
//# sourceMappingURL=commonHelpers.js.map
