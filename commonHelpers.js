import{a as E,S,i as a}from"./assets/vendor-6e0bf343.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function e(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(t){if(t.ep)return;t.ep=!0;const r=e(t);fetch(t.href,r)}})();const T="43804338-e495c959d27dd2a0f1faf63f4",q="https://pixabay.com/api/";async function f(o,s){try{return(await E.get(q,{params:{key:T,q:o,image_type:"photo",orientation:"horizontal",safesearch:"true",page:s,per_page:15}})).data}catch(e){throw console.error("Error fetching data, please try again:",e),e}}function p(o,s){const e=document.querySelector(".gallery"),c=o.map(({webformatURL:t,largeImageURL:r,tags:l,likes:w,views:b,comments:L,downloads:v})=>`<li class="gallery-item">
            <a href = "${r}">
        <img src="${t}" alt="${l}"/>
    <ul class="gallery-info">
        <li>Likes<p>${w}</p></li>
        <li>Views<p>${b}</p></li>
        <li>Comments<p>${L}</p></li>
        <li>Downloads<p>${v}</p></li>
    </ul>
    </a>
    </li>`).join("");e.insertAdjacentHTML("beforeend",c),s.refresh()}const I={captionsData:"alt",captionDelay:250};let u=new S(".gallery a",I);const P=document.querySelector(".search-form"),h=document.querySelector(".search-images"),i=document.querySelector(".loader"),n=document.querySelector(".load-more-button"),B=document.querySelector(".gallery");let y=1,m="",d=[],g=0;document.addEventListener("DOMContentLoaded",()=>{n.style.display="none"});P.addEventListener("submit",async function(o){o.preventDefault();const s=h.value.trim();if(i.style.display="block",B.innerHTML="",y=1,s===""){a.error({message:"Please enter a search term!",position:"topRight"}),i.style.display="none";return}try{const e=await f(s,y);e.hits.length===0?(p([]),n.style.display="none",a.error({title:"Error!",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"})):(p(e.hits,u),u.refresh(),n.style.display="block",m=s,d=e.hits,g=Math.ceil(e.totalHits/e.hits.length),e.totalHits<15?n.style.display="none":n.style.display="block")}catch(e){console.error("Error fetching images:",e),a.error({title:"Error!",message:"An error occurred while fetching images. Please try again later.",position:"topRight"})}finally{i.style.display="none"}h.value=""});n.addEventListener("click",async()=>{if(y>=g){n.style.display="none",a.info({message:"You've reached the end of search results.",position:"topRight"});return}try{i.style.display="block";const o=await f(m,++y);if(o.hits.length===0)n.style.display="none",a.info({message:"You've reached the end of search results.",position:"topRight"});else{d=[...d,...o.hits],p(d);const e=document.querySelector(".gallery a").getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})}}catch(o){console.log(o)}finally{i.style.display="none"}});window.addEventListener("scroll",()=>{const o=document.getElementById("scrollToTopBtn");window.scrollY>300?o.style.display="block":o.style.display="none"});document.getElementById("scrollToTopBtn").addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
//# sourceMappingURL=commonHelpers.js.map
